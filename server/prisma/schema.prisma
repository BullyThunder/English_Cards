datasource db {
    provider = "postgresql"
}

generator client {
provider = "prisma-client-js"
}

model User {
  id    String     @id @default(uuid())
  email String  @unique
  name  String?
  createdAt DateTime @default(now())

  wordProgresses UserWordProgress[]
  passwordHash String
}

model Word {
  id    String     @id @default(uuid())
  english String @unique
  russian String
  progress UserWordProgress[]
}

model UserWordProgress {
  id    String     @id @default(uuid())

  userId String
  wordId String

  lastSeen DateTime @default(now())
  correctAttempts Int      @default(0)   
  isLearned       Boolean  @default(false)
  
  user            User     @relation(fields: [userId], references: [id])
  word            Word     @relation(fields: [wordId], references: [id])

  
  @@unique([userId, wordId])
}

